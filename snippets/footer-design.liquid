{% liquid
  assign show_follow_on_shop = false
  if shop.features.follow_on_shop? and section.settings.enable_follow_on_shop
    assign show_follow_on_shop = true
  endif
%}
<div class="m-footer--bottom m-footer--bottom-{{ section.settings.design }} m-gradient m-color-{{ section.settings.footer_bottom_color_scheme }}"
     style="padding-top: {{ section.settings.footer_bottom_padding_top | default: 20 }}px; padding-bottom: {{ section.settings.footer_bottom_padding_bottom | default: 32 }}px;">
  <div class="{{ container }}">
    <div class="m-footer--bottom-inner m:flex m:flex-col md:m:flex-row m:justify-between md:m:items-center"
         style="gap: {{ section.settings.footer_bottom_gap | default: 24 }}px; text-align: {{ section.settings.footer_bottom_alignment | default: 'center' }};">
      <style>
        @media screen and (min-width: 768px) {
          .m-footer--bottom-inner {
            text-align: left !important;
          }
        }
        @media screen and (max-width: 767px) {
          .m-footer--bottom-left {
            order: 3;
            text-align: center !important;
          }
          .m-footer--bottom-logo {
            order: 1;
            text-align: center !important;
            margin-bottom: 20px !important;
          }
          .m-footer--bottom-center {
            order: 2;
            text-align: center !important;
          }
          .m-footer--bottom-right {
            order: 4;
            text-align: center !important;
          }
          .m-footer--currency-language {
            justify-content: center !important;
          }
          .m-footer--mobile-addon-padding {
            padding-top: {{ section.settings.addons_padding_top | default: 0 }}px !important;
            padding-bottom: {{ section.settings.addons_padding_bottom | default: 0 }}px !important;
          }
          /* Footer-2 layout: payment icons should be last */
          .m-footer--bottom-footer-2 .m-footer--bottom-left {
            order: 4;
          }
          .m-footer--bottom-footer-2 .m-footer--bottom-center {
            order: 3;
          }
          /* Footer-3 layout: reorder center and right */
          .m-footer--bottom-footer-3 .m-footer--bottom-center {
            order: 3;
          }
          .m-footer--bottom-footer-3 .m-footer--bottom-right {
            order: 4;
          }
        }
        @media screen and (min-width: 768px) {
          .m-footer--mobile-addon-padding {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
          }
        }
      </style>
      {% case section.settings.design %}
        {% when 'footer-1' %}
          {% if section.settings.copyright != blank %}
            <div class="m-footer--bottom-left m:flex-none m:text-left m:w-full md:m:w-auto md:m:text-left m:hidden md:m:block">
              <span class="m-footer__copyright" 
                    style="font-size: {{ section.settings.copyright_font_size | default: 14 }}px; font-weight: {{ section.settings.copyright_font_weight | default: 'normal' }}; text-transform: {{ section.settings.copyright_text_transform | default: 'none' }}; line-height: {{ section.settings.copyright_line_height | default: 1.5 }}; letter-spacing: {{ section.settings.copyright_letter_spacing | default: 0 }}px;{% if section.settings.copyright_text_color != blank %} color: {{ section.settings.copyright_text_color }};{% endif %}">{{ section.settings.copyright }}</span>
              {%- if show_follow_on_shop -%}
                <div class="m-follow-on-shop">
                  {% comment %} TODO: enable theme-check once `login_button` is accepted as valid filter {% endcomment %}
                  {% # theme-check-disable %}
                  {{ shop | login_button: action: 'follow' }}
                  {% # theme-check-enable %}
                </div>
              {%- endif -%}
            </div>
          {% endif %}
          {% if section.settings.footer_logo != blank %}
            <div class="m-footer--bottom-logo m:w-full md:m:w-auto md:m:flex-none">
              <div class="m-footer--logo m:text-center">
                <img src="{{ section.settings.footer_logo | image_url: width: section.settings.footer_logo_width | default: 150 }}" 
                     alt="{{ shop.name }}" 
                     loading="lazy"
                     style="width: {{ section.settings.footer_logo_width | default: 150 }}px; max-width: 100%; height: auto;">
              </div>
            </div>
          {% endif %}
          <div class="m-footer--bottom-center m:w-full md:m:w-auto m:flex-col md:m:flex-row m:flex m:flex-wrap md:m:justify-center">
            {% if section.settings.show_currency_selector or section.settings.show_language_selector %}
              <div class="m-footer--currency-language m:display-flex m-footer--mobile-addon-padding">
                {% liquid
                  if section.settings.show_country_selector
                    render 'country-selector', pos: 'top'
                  endif
                  if section.settings.show_currency_selector
                    render 'currency-switcher', pos: 'top'
                  endif
                  if section.settings.show_language_selector
                    render 'language-switcher', pos: 'top'
                  endif
                %}
              </div>
            {% endif %}
            <div class="m-footer--mobile-copyright m:block md:m:hidden m:text-center">
              {% if section.settings.copyright != blank %}
                <span class="m-footer__copyright" 
                      style="font-size: {{ section.settings.copyright_font_size | default: 14 }}px; font-weight: {{ section.settings.copyright_font_weight | default: 'normal' }}; text-transform: {{ section.settings.copyright_text_transform | default: 'none' }}; line-height: {{ section.settings.copyright_line_height | default: 1.5 }}; letter-spacing: {{ section.settings.copyright_letter_spacing | default: 0 }}px;{% if section.settings.copyright_text_color != blank %} color: {{ section.settings.copyright_text_color }};{% endif %}">{{ section.settings.copyright }}</span>
                {%- if show_follow_on_shop -%}
                  <div class="m-follow-on-shop">
                    {% comment %} TODO: enable theme-check once `login_button` is accepted as valid filter {% endcomment %}
                    {% # theme-check-disable %}
                    {{ shop | login_button: action: 'follow' }}
                    {% # theme-check-enable %}
                  </div>
                {%- endif -%}
              {% endif %}
            </div>
            {% if section.settings.show_social_links %}
              <div class="m-footer--mobile-addon-padding">
                {% render 'social-media-links' %}
              </div>
            {% endif %}
            {% if section.settings.footer_bottom_menu != blank %}
              {% assign menu = section.settings.footer_bottom_menu %}
              <ul class="m-footer--bottom-menu m-link-lists m-link-lists--inline xl:m:justify-center{% if section.settings.show_menu_item_divider %} show-menu-item-divider{% endif %}">
                {% for link in linklists[menu].links %}
                  <li class="m-footer--bottom-menu-item m-link-lists--item">
                    <a class="m-link" href="{{ link.url }}">{{ link.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
          {% if section.settings.show_payment_icons %}
            <div class="m-footer--bottom-right m:w-full md:m:w-auto md:m:flex-none md:m:justify-end">
              <div class="m-footer--mobile-addon-padding">
                {% render 'payment-icons', section: section %}
              </div>
            </div>
          {% endif %}
        {% when 'footer-2' %}
          {% if section.settings.show_payment_icons %}
            <div class="m-footer--bottom-left m:w-full m:flex-1 xl:m:w-auto m-footer--mobile-addon-padding{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
              {% render 'payment-icons', section: section %}
            </div>
          {% endif %}

          {% if section.settings.footer_logo != blank %}
            <div class="m-footer--bottom-logo m:flex-1 m:text-center xl:m:w-auto m:w-full{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
              <div class="m-footer--logo">
                <img src="{{ section.settings.footer_logo | image_url: width: section.settings.footer_logo_width | default: 150 }}" 
                     alt="{{ shop.name }}" 
                     loading="lazy"
                     style="width: {{ section.settings.footer_logo_width | default: 150 }}px; max-width: 100%; height: auto;">
              </div>
            </div>
          {% endif %}
          <div class="m-footer--bottom-center m:flex-1 m:text-left xl:m:text-center xl:m:w-auto m:w-full{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
            {% if section.settings.copyright != blank %}
              <span class="m-footer__copyright" 
                    style="font-size: {{ section.settings.copyright_font_size | default: 14 }}px; font-weight: {{ section.settings.copyright_font_weight | default: 'normal' }}; text-transform: {{ section.settings.copyright_text_transform | default: 'none' }}; line-height: {{ section.settings.copyright_line_height | default: 1.5 }}; letter-spacing: {{ section.settings.copyright_letter_spacing | default: 0 }}px;{% if section.settings.copyright_text_color != blank %} color: {{ section.settings.copyright_text_color }};{% endif %}">{{ section.settings.copyright }}</span>
              {%- if show_follow_on_shop -%}
                <div class="m-follow-on-shop">
                  {% comment %} TODO: enable theme-check once `login_button` is accepted as valid filter {% endcomment %}
                  {% # theme-check-disable %}
                  {{ shop | login_button: action: 'follow' }}
                  {% # theme-check-enable %}
                </div>
              {%- endif -%}
            {% endif %}
          </div>
          {% if section.settings.show_social_links
            or section.settings.show_currency_selector
            or section.settings.show_language_selector
            or section.settings.footer_bottom_menu
            or section.settings.show_country_selector
          %}
            <div class="m-footer--bottom-right m:flex-1 m:flex m:flex-wrap m:items-left m:justify-left xl:m:w-auto m:w-full xl:m:justify-end m:flex-col md:m:flex-row{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
              {% if section.settings.show_social_links %}
                <div class="m-footer--mobile-addon-padding">
                  {% render 'social-media-links', extra_classes: 'justify-center md:justify-end' %}
                </div>
              {% endif %}
              {% if section.settings.show_currency_selector
                or section.settings.show_language_selector
                or section.settings.show_country_selector
              %}
                <div class="m-footer--currency-language m:display-flex m-footer--mobile-addon-padding">
                  {% liquid
                    if section.settings.show_country_selector
                      render 'country-selector', pos: 'top'
                    endif

                    if section.settings.show_currency_selector
                      render 'currency-switcher', pos: 'top'
                    endif

                    if section.settings.show_language_selector
                      render 'language-switcher', pos: 'top'
                    endif
                  %}
                </div>
              {% endif %}
              {% if section.settings.footer_bottom_menu != blank %}
                {% assign menu = section.settings.footer_bottom_menu %}
                <ul class="m-footer--bottom-menu m-link-lists m-link-lists--inline{% if section.settings.show_menu_item_divider %} show-menu-item-divider{% endif %}">
                  {% for link in linklists[menu].links %}
                    <li class="m-footer--bottom-menu-item m-link-lists--item">
                      <a class="m-link" href="{{ link.url }}">{{ link.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          {% endif %}
        {% when 'footer-3' %}
          {% if section.settings.show_social_links
            or section.settings.show_currency_selector
            or section.settings.show_language_selector
          %}
            <div class="m-footer--bottom-left m:flex-1 m:flex-col m:display-flex m:flex-wrap m:items-left m:justify-left xl:m:justify-start xl:m:w-auto m:w-full{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
              {% if section.settings.show_social_links %}
                <div class="m-footer--mobile-addon-padding">
                  {% render 'social-media-links' %}
                </div>
              {% endif %}
              <div class="m-footer--currency-language m:display-flex m-footer--mobile-addon-padding">
                {% liquid
                  if section.settings.show_country_selector
                    render 'country-selector', pos: 'top'
                  endif

                  if section.settings.show_currency_selector
                    render 'currency-switcher', pos: 'top'
                  endif

                  if section.settings.show_language_selector
                    render 'language-switcher', pos: 'top'
                  endif
                %}
              </div>
            </div>
          {% endif %}
          {% if section.settings.footer_logo != blank %}
            <div class="m-footer--bottom-logo m:flex-1 xl:m:text-center xl:m:w-auto m:w-full{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
              <div class="m-footer--logo m:text-center">
                <img src="{{ section.settings.footer_logo | image_url: width: section.settings.footer_logo_width | default: 150 }}" 
                     alt="{{ shop.name }}" 
                     loading="lazy"
                     style="width: {{ section.settings.footer_logo_width | default: 150 }}px; max-width: 100%; height: auto;">
              </div>
            </div>
          {% endif %}
          <div class="m-footer--bottom-center m:flex-1 xl:m:text-center xl:m:w-auto m:w-full{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
            {% if section.settings.copyright != blank %}
              <span class="m-footer__copyright" 
                    style="font-size: {{ section.settings.copyright_font_size | default: 14 }}px; font-weight: {{ section.settings.copyright_font_weight | default: 'normal' }}; text-transform: {{ section.settings.copyright_text_transform | default: 'none' }}; line-height: {{ section.settings.copyright_line_height | default: 1.5 }}; letter-spacing: {{ section.settings.copyright_letter_spacing | default: 0 }}px;{% if section.settings.copyright_text_color != blank %} color: {{ section.settings.copyright_text_color }};{% endif %}">{{ section.settings.copyright }}</span>
              {%- if show_follow_on_shop -%}
                <div class="m-follow-on-shop">
                  {% comment %} TODO: enable theme-check once `login_button` is accepted as valid filter {% endcomment %}
                  {% # theme-check-disable %}
                  {{ shop | login_button: action: 'follow' }}
                  {% # theme-check-enable %}
                </div>
              {%- endif -%}
            {% endif %}
          </div>
          {% if section.settings.show_payment_icons or section.settings.footer_bottom_menu %}
            <div class="m-footer--bottom-right m:flex-1 m:display-flex m:flex-col m:justify-center xl:m:justify-end xl:m:w-auto m:w-full{% if animated %} m-scroll-trigger animate--{{ animation_effect }}{% endif %}">
              {% if section.settings.show_payment_icons %}
                <div class="m-footer--mobile-addon-padding">
                  {% render 'payment-icons', section: section, classes: 'xl:m:justify-end' %}
                </div>
              {% endif %}
              {% if section.settings.footer_bottom_menu != blank %}
                {% assign menu = section.settings.footer_bottom_menu %}
                <ul class="m-footer--bottom-menu m-link-lists m-link-lists--inline{% if section.settings.show_menu_item_divider %} show-menu-item-divider{% endif %}">
                  {% for link in linklists[menu].links %}
                    <li class="m-footer--bottom-menu-item m-link-lists--item">
                      <a class="m-link" href="{{ link.url }}">{{ link.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          {% endif %}
        {% else %}

      {% endcase %}
    </div>
  </div>
</div>
